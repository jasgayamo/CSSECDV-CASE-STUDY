<%- include('header') %>

<link rel="stylesheet" href="/css/register.css">

<div class="register-container">

<h2>Register</h2>

<form method="POST" action="/register">
  <input name="username" placeholder="Username" required>
  <input type="password" name="password" placeholder="Password" required>
  <input type="password" name="confirmPassword" placeholder="Confirm Password" required>

  <small>Password must be at least 8 characters long and include uppercase, lowercase, number, and special character</small>

  <input name="securityQuestion" placeholder="Security Question (e.g. Name of first pet)" required>
  <input name="securityAnswer" placeholder="Answer" required>

  <select name="role" required>
    <option value="customer">Customer</option>
    <option value="manager">Manager</option>
    <option value="admin">Admin</option>
  </select>

  <button type="submit">Register</button>
</form>

<p style="color:red;"><%= error %></p>
<p><a href="/login">Already have an account? Login here</a></p>
</div>

<%- include('footer') %>

<script>
   window.onload = function() {
    setTimeout(function() {
      // Clear error and message from URL
      window.history.replaceState({}, document.title, window.location.pathname);
    }, 3000);  // Optional: Wait for 3 seconds before clearing
  };
</script>